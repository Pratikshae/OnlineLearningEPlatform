<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>View Feedback</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr"
	crossorigin="anonymous" />

<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
<link rel="stylesheet" th:href="@{/css/style.css}">

</head>
<body>
	<div th:replace="~{fragments/admin-sidebar :: frag-admin-sidebar}"></div>
	
	<div class="main-content">
		<h2>View Customer Feedbacks</h2>
		<p>Here you can view customers feedbacks...</p>
		
		<section class="mt-5 text-center">
			<h3>Customers Feedbacks List</h3>
		</section>
		
		<section class="mt-5">
			<div th:if="${#lists.isEmpty(feedbackPage.content)}" >
				<div class="alert alert-warning" role="alert"> 
					No customer's Feedbacks
				</div>
			</div>
			
			<div th:if="${!#lists.isEmpty(feedbackPage.content)}" >
				<table class="table table-striped table-hover table-bordered shadow">
					<thead>
						<tr>
							<th>Name</th>
							<th>Email</th>
							<th>Feedback</th>
							<th>Read Full Feedback</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="feedback: ${feedbackPage.content}">
							<td th:text="${feedback.userName}"></td>
							<td th:text="${feedback.userEmail}"></td>
							<td th:text="${#strings.substring(feedback.userFeedback, 0, 25)} + '...'"/>
							<td>
								<!-- Button trigger method -->
								<button type="buton" class="btn btn-white" data-bs-toggle="modal" data-bs-target="#feedbackModal"
								th:data-feedback-id="${feedback.id}"
								th:data-feedback="${feedback.userFeedback}"
								th:data-feedback-name="${feedback.userName}"
								th:data-feedback-email="${feedback.userEmail}"
								th:data-feedback-date="${feedback.dateOfFeedback}"
								th:data-feedback-time="${feedback.timeOfFeedback}">
								
								<i th:if="${feedback.readStatus == 'unread'}" class="bi bi-envelope-fill icon-unread"></i>
								<i th:if="${feedback.readStatus == 'read'}" class="bi bi-envelope-check icon-unread"></i>
								
								</button>
							</td>
							<td></td>
							
					    </tr>
					
					
					</tbody>
				</table>
			</div>
			
		</section>
	
	
	
	
	
	
	
	
	</div>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q"
		crossorigin="anonymous"></script>
</body>
</html>
